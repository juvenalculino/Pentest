#!/usr/bin/python
# -*- coding: utf-8 -*-
# Deixem os cr√©ditos:
# Juvenal Culino | Facebook: https://www.facebook.com/jose.juvenal.00
#                | Github: https://github.com/juvenalculino
import socket, sys

ver = '\033[1;31m'
azu = '\033[1;34m'
cya = '\033[1;36m'
mag = '\033[1;35m'
na = '\033[0m'
pre = '\033[1;30m'
ama = '\033[1;33m'

try:
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect(("whois.iana.org",43))
    s.send(sys.argv[1]+"\r\n")
    resposta = s.recv(1024).split()
    whois = resposta[19]
    s.close()

    s2 = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s2.connect((whois,43))
    s2.send(sys.argv[1]+"\r\n")
    resp = s2.recv(1024)
    print(resp)

except IndexError as erro:
    #print(erro)
    print('''
    {}By:{} {}Juvenal Culino{}
    {}======================================================={}
    {}Modo de uso:{}
    {}./whois.py{} www.google.com
    {}python whois.py{}  www.google.com.br
    {}======================================================={}
    {}Facebook:{} https://www.facebook.com/jose.juvenal.00
    '''.format(ver,na,azu,na,pre,na,mag,na,ama,na,ama,na,pre,na,azu,na))
