#!/usr/bin/python
# -*- coding: utf-8 -*-

import urllib2
import os
import platform
from random import choice
import time
from pip._vendor.distlib.compat import raw_input

verm = '\033[1;91m'
verde = '\033[1;92m'
cyan = '\033[1;96m'
cores = ('\033[1;31m', '\033[1;32m', '\033[1;33m', '\033[1;34m', '\033[1;35m', '\033[1;36m')
na = '\033[0m'

so = platform.system()

if so == 'Windows':
	os.system("cls")


else:
	os.system("clear")
print('{}CrÃ©ditos: / Facebook: https://www.facebook.com/jose.juvenal.00'.format(choice(cores)))
print('\t /  Github: https://github.com/juvenalculino{}'.format(na))
print('''{}
______            _       _____       _    ______ _      
| ___ \          | |     /  ___|     | |   |  _  (_)     
| |_/ /_ __ _   _| |_ ___\ `--. _   _| |__ | | | |_ _ __ 
| ___ \ '__| | | | __/ _ \`--. \ | | | '_ \| | | | | '__|
| |_/ / |  | |_| | ||  __/\__/ / |_| | |_) | |/ /| | |   
\____/|_|   \__,_|\__\___\____/ \__,_|_.__/|___/ |_|_|{}  

{}>>> BY: Juvenal Culino <<<{}                                           
'''.format(choice(cores), na, choice(cores), na))


def brute():
	wordlist = 'brutesubdominio.txt'
	f = open(wordlist)
	lines = []

	for line in f.readlines():
		lines.append(str(line.replace("\n", "")))
	return lines

wordlist = brute()

site = raw_input("{}Insira o nome do site (exemplo: facebook.com){}\n\n{}~> {}"
				  .format(choice(cores), na, choice(cores), na))
if len(site) <= 5:
	print('{}ERRO!!! Digite a url do site alvo.{}\n'.format(verm, na))
	exit()

ponto = str('.')


for subdomain in wordlist:
	req = urllib2.Request('http://'+subdomain+'.'+site,
						  headers={'User-Agent': 'Mozilla/5.0 (Macintosh; U; '
												 'Intel Mac OS X 10_5_8; en-US) AppleWebKit/532.8 '
												 '(KHTML, like Gecko) Chrome/4.0.302.2 Safari/532.8'})

	try:
		resp = urllib2.urlopen(req)

	except urllib2.HTTPError as e:
		if e.code == 404:
			print("\n{}[-]{} {}{}{}{}  -> NOT FOUND{}".format(cyan, na, verm, subdomain, ponto, site, na))

	except urllib2.URLError as e:
		print("\n{}[-]{} {}{}{}{}  -> NOT FOUND{}".format(cyan, na, verm, subdomain, ponto, site, na))

	else:
		print("\n{}[+]{} {}{}{}{}  -> OK{}".format(cyan, na, verde, subdomain, ponto, site, na))
		save = open('subdominios.txt', 'a')
		save.write(subdomain + "." + site + "\n")

	time.sleep(0.8)
